
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar - Ancho ajustado y estilos mejorados -->
    <div class="col-12 col-md-3 col-lg-2 sidebar-container p-0">
      <div class="sidebar bg-light p-3 sticky-top">
        <h5 class="sidebar-heading d-flex justify-content-between align-items-center px-2 mt-4 mb-3">
          <span>Panel de Control</span>
        </h5>
        <div class="d-grid gap-2 mb-3">
          <button (click)="addInfoProduct()" class="btn btn-primary d-flex align-items-center justify-content-center mb-2">
            <i class="bi bi-plus-circle me-2"></i>
            Agregar
          </button>
          <button class="btn btn-secondary d-flex align-items-center justify-content-center">
            <i class="bi bi-funnel me-2"></i>
            Filtrar
          </button>
        </div>
      </div>
    </div>
  
    <!-- Contenido principal - Ajustado para evitar superposición -->
    <main class="col-12 col-md-9 col-lg-10 px-md-3 py-3 content-area">
      <!-- Título de sección -->
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h2>Mis Infoproductos</h2>
      </div>
      
      <!-- Grid de cards con tamaño ajustado -->
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 g-3">
        @for (info of infoproductos; track info.id) {
          <div class="col">
            <div class="card h-100 shadow-sm">
              <div class="card-body p-3">
                <h5 class="card-title">{{ info.title }}</h5>
                <div class="media-container mb-2">
                  <div class="fixed-media-box position-relative"
                      (mouseenter)="info.showVideo = true"
                      (mouseleave)="info.showVideo = false">
                  
                    <!-- Imagen por defecto -->
                    @if(!info.showVideo){
                      <img 
                          [src]="info.thumbnailUrl || 'images/prof.gif'"
                          class="card-img-top media-element"
                          alt="{{ info.title }}" />
                    }

                    <!-- Video al hacer hover -->
                    @if(info.showVideo){
                      @if(info.videoUrl){
                        <video 
                            [src]="info.videoUrl"
                            autoplay
                            muted
                            loop
                            class="card-img-top media-element">
                        </video>
                      }
                      @else {
                        <img 
                            [src]="info.thumbnailUrl || 'images/prof.gif'"
                            class="card-img-top media-element"
                            alt="{{ info.title }}" />
                      }
                    }
                  </div>
                </div>
                <p class="card-text">{{ info.description }} - ${{ info.price }}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a href="#" class="btn btn-sm btn-primary"  style="color: white;">Ver más</a>
                    <button class="btn btn-sm btn-outline-secondary" style="color: white;">Editar</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        }
      </div>
    </main>
  </div>
</div>
